const order = {
  e: "depthUpdate",
  E: 1584979370785,
  s: "ETHBTC",
  U: 1106611056,
  u: 1106611092,
  b: [
    ["0.02074800", "3.85000000"],
    ["0.02073600", "9.63500000"],
    ["0.02073200", "0.00000000"],
    ["0.02073000", "51.00000000"],
    ["0.02072900", "218.44500000"],
    ["0.02069700", "4.50000000"],
    ["0.02013900", "0.02600000"]
  ],
  a: [
    ["0.02075300", "0.00000000"],
    ["0.02075400", "4.00000000"],
    ["0.02075500", "3.09500000"],
    ["0.02075600", "1.97800000"],
    ["0.02076000", "7.45500000"],
    ["0.02076900", "18.44000000"],
    ["0.02077100", "0.00000000"],
    ["0.02080100", "0.96100000"],
    ["0.02117800", "0.37100000"]
  ]
};

const convertArrToObjBid = arr => {
  // return arr.map(item => item.filter(i => parseInt(i[1]) !== 0));
  return arr
    .filter(item => parseInt(item[1]) !== 0)
    .sort((a, b) => a[0] > b[0])
    .slice(0, 8)
    .map(i => {
      return {
        p: i[0],
        q: i[1]
      };
    });
};

const convertArrToObjAsk = arr => {
  // return arr.map(item => item.filter(i => parseInt(i[1]) !== 0));
  return arr
    .filter(item => parseInt(item[1]) !== 0)
    .sort((a, b) => a[0] < b[0])
    .slice(0, 8)
    .map(i => {
      return {
        p: i[0],
        q: i[1]
      };
    });
};

/*
[ { p: '0.02069700', q: '4.50000000' },
  { p: '0.02072900', q: '218.44500000' },
  { p: '0.02073000', q: '51.00000000' },
  { p: '0.02073600', q: '9.63500000' },
  { p: '0.02074800', q: '3.85000000' } ]

 */

console.log(convertArrToObjBid(order.b));
console.log(convertArrToObjAsk(order.a));
